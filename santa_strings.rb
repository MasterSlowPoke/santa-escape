module SantaStrings
	ENGLISH_STRINGS = {
		accept_cookie: "In his weakened state, Santa stops to devour your cookie, gaining %d%% health.\nHe's now at %d%% health.",
		barreling_closer: "To your north is Santa, barreling ever closer to your doom.",
		confirm_north: "Are you sure you want to head north? Yes or no.",
		damage: "Santa is at %d%% health.",
		diabetes_1: "Beaten and bloodied, Santa gorges himself on your cookie feast. His blood sugar spikes to dangerously high levels.",
		diabetes_2: "He demands insulin to cure his late onset type 3 diabetes. You show him your jar of insulin, then crush it in your",
		diabetes_3: "hand. Santa howls as his pancreas shuts down and he rapidly begins to crystallize into pure sugar.",
		distance: "%d %s away!",
		drugs: "Winners don't use drugs.",
		feet: "feet",
		fight_crush:"You stop and hurl a large rock at Santa, and land a crushing blow! ",
		fight_glance: "You stop and toss a rock at Santa, and deal a glancing blow! ",
		fight_move: "Santa takes advantage of your pause and gains %d %s on you!",
		fight_miss: "You try and throw a stone, but you miss completely!",
		fight_out_of_range: " He's simply too far away!",
		foot: "foot",
		hide: "You fool. Santa knows where you are hiding, and knows when you're afraid! He's now %d %s closer!",
		help_base: "Run, Fight, Hide, Look, Give Cookie, Items, Status, Surrender, Language, and Help)",
		help_lang: "(Valid commands are ",
		game_over: "Santa descends upon you and rips out your heart! Have a holly jolly Christmas.",
		items: "You look in your bag. You have (%d) Large Package%s of Cookies, (1) Jar of Insulin, (1) Rock Launcher, and (1) Rock Lobster.",
		language_selected: "English selected.",
		look_far: "You are in a large forest, with trees obstructing all views except to the east, where a small clearing may be seen.",
		look_mid: "You are facing the south side of a white house. There is no door here, and all the windows are barred.",
		look_near: "You are in an open field west of a big white house with a boarded front door.",
		nuke: "Your nerve agent is far too powerful for even Santa's enhanced biology! He liquifies in front of your eyes.",
		only: "only ",
		press_return: "PRESS [Return] TO CONTINUE.",
		prompt: "What will you do?",
		regenerate: "Santa regains his vitality! He's now at %d%% health!",
		reject_cookie: "Santa has no need for your cookie! He disregards your kind gesture and leaps forward %d %s!",
		reject_north: "Wise choice. Santa is to your north! Santa moved %d %s closer while you contemplated your destruction.",
		run: "You sprint and put a bit of space between you and Santa. You gain %d of breathing room!",
		state_dire: "Santa is breathing down your neck! He's ",
		state_normal: "Santa is after you! He's ",
		status: "Santa is %d %s away, and is at %d%% health. Your condition is [Afraid].",
		surrender: "You throw yourself at Santa's feet and beg! He has no mercy!",
		unknown: "I don't understand what you mean! Santa takes advantage of your confusion and moves %d %s closer!",
		you_win: "Santa is dead! You survived and you ruined Christmas!",
	}

	FRENCH_STRINGS = ENGLISH_STRINGS.merge({
		accept_cookie: "Dans son état affaibli, Santa s'arrête à dévorer votre cookie, gagnant %d%% santé.\nIl est maintenant à %d%% santé.",
		barreling_closer: "Pour votre nord est de Santa, fonçant toujours plus proche de votre malheur.",
		confirm_north: "Etes-vous sûr de vouloir diriger vers le nord? Oui ou non.",
		damage: "Santa est à %d%% santé.",
		diabetes_1: "Battus et ensanglanté, les gorges de Santa lui-même sur votre cookie fête. Ses pointes de sucre dans le sang à des niveaux dangereusement élevés.",
		diabetes_2: "Il exige l'insuline pour soigner son diabète de type apparition tardive 3. Vous lui montrez votre pot d'insuline, puis l'écraser dans votre",
		diabetes_3: "main. Père hurle que son pancréas s'arrête et il commence rapidement à se cristalliser en sucre pur.",
		distance: "%d %s loin!",
		drugs: "Les gagnants ne consomment pas de drogues.",
		feet: "pieds",
		fight_crush:"Vous vous arrêtez et lancer un grand rocher au Santa, et décrocher un coup de massue! ",
		fight_glance: "Vous vous arrêtez et jetez un rocher au père, et de traiter un coup en regardant! ",
		fight_move: "Santa profite de votre pause et gai %d %s sur vous!",
		fight_miss: "Vous essayez de jeter une pierre, mais vous oubliez complètement!",
		fight_out_of_range: " Il est tout simplement trop loin!",
		foot: "pied",
		hide: "Tu es fou. Père Noël sait où vous vous cachez, et sait quand vous avez peur! Il est maintenant %d %s plus près!",
		help_lang: "(Les commandes valides ",
		game_over: "Père Noël descend sur vous et déchire ton coeur! Ayez Noël gai de houx.",
		items: "Vous regardez dans votre sac. Vous avez (%d) Grand paquet%s de Cookies, (1) Pot de l'insuline, (1) Roche Lance, and (1) Langouste.",
		language_selected: "Français sélectionnés",
		look_far: "Vous êtes dans une grande forêt, avec des arbres obstruant toutes les vues sauf à l'est, où une petite clairière peut être vu.",
		look_mid: "Vous êtes face à la côté sud d'une maison blanche. Il n'ya pas de porte ici, et toutes les fenêtres sont interdit.",
		look_near: "Vous êtes dans un champ ouvert à l'ouest d'une grande maison blanche avec une porte avant sont montés à bord.",
		nuke: "Votre agent neurotoxique est beaucoup trop puissant pour la biologie améliorée de même le Père Noël! Il se liquéfie devant vos yeux.",
		only: "seulement ",
		press_return: "Appuyez sur [RETURN] pour continuer.",
		regenerate: "Père Noël retrouve sa vitalité! Il est maintenant à %d%% santé.!",
		reject_cookie: "Père Noël n'a pas besoin de votre cookie! Il ne tient pas compte de votre geste et un bond en avant %d %s!",
		reject_north: "WChoix judicieux. Santa est à votre nord! Père déplacé %d %s plus près pendant que vous envisagiez votre destruction.",
		run: "Vous sprint et de mettre un peu d'espace entre vous et le Père Noël. vous gagnez %d de marge de manœuvre!",
		state_dire: "Santa derrière votre dos! il est ",
		state_normal: "Santa est après vous! il est ",
		status: "Santa est %d %s loin, et est à %d%% santé. Votre état est [Peur].",
		surrender: "Vous vous jetez aux pieds du Père Noël et priez! Il n'a aucune pitié!",
		unknown: "Je ne comprends pas ce que tu veux dire! Père profite de votre confusion et se déplace %d %s plus près!",
		you_win: "Père Noël est mort! Vous avez survécu et vous avez ruiné Noël!",
	})

	SPANISH_STRINGS = ENGLISH_STRINGS.merge({
		run: "Arriba!"
		})

	def choose_language
		puts SantaGfx::LOOP_SEPERATOR
		puts "Please select langauge / S'il vous plaît sélectionner langauge\n(English or French)"
		puts SantaGfx::LOOP_SEPERATOR

		choice = ""
		langs = ["", "e", "en", "2", "english", "f", "fr", "french"]

		loop do
			choice = get_input
			break if langs.include? choice
			puts "Invalid langauge / Langauge invalide"
		end

		language = case choice
			when "f", "fr", "french"
				FRENCH_STRINGS
			else
				ENGLISH_STRINGS
			end
		
		puts language[:language_selected]
		language
	end

	def get_string(identifier, *substituions)
		return "" unless @language && @language[identifier]
		(@language[identifier] % substituions)
	rescue => e
		"Selected language does not contain \":" + identifier.to_s + "\" with arguments " + substituions.to_s + " because " + e.to_s + "."
	end

	def generate_state_string
		state = ''
		if @santa.is_breathing_down_your_neck?
			state += get_string :state_dire
		else
			state += get_string :state_normal, 324234234
		end

		state += get_string :only if @santa.is_close?

		state + get_string(:distance, @santa.distance, foot_or_feet(@santa.distance))
	end

	def get_look_string
		if @santa.distance > 100
			look_string = get_string(:look_far)
		elsif @santa.distance > 50
			look_string = get_string(:look_mid)
		else
			look_string = get_string(:look_near)
		end
					
		look_string + "\n" + get_string(:barreling_closer)
	end

	def display_prompt
		puts get_string(:press_return)
		gets
	end
end